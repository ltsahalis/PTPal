# PTPal Installation Guide

## Prerequisites

Before running PTPal, ensure you have the following installed:

1. **Node.js** (v14 or higher)
   - Download from: https://nodejs.org/
   - Verify installation: `node --version`

2. **Python 3** (v3.8 or higher)
   - Download from: https://www.python.org/
   - Verify installation: `python3 --version`

3. **OpenSSL** (usually pre-installed on macOS/Linux)
   - Verify installation: `openssl version`

---

## Installation Steps

### Step 1: Clone or Download the Repository

```bash
cd /path/to/PTPal_Demo
```

### Step 2: Run One-Time Setup

This will:
- Generate SSL certificates for HTTPS (required for camera access)
- Create Python virtual environment
- Install all Python dependencies (Flask, Flask-CORS)

```bash
chmod +x setup.sh
./setup.sh
```

### Step 3: Start PTPal

This will launch both the backend and frontend servers:

```bash
chmod +x start.sh
./start.sh
```

You should see:
```
Backend running on http://localhost:8001
Frontend running on https://localhost:3000
```

### Step 4: Open in Browser

1. Navigate to: **https://localhost:3000**
2. You'll see a security warning (this is normal for self-signed certificates)
3. Click **"Advanced"** → **"Proceed to localhost (unsafe)"**
4. Grant camera permissions when prompted
5. Click **"Start Camera"** to begin!

---

## Stopping PTPal

Press **Ctrl+C** in the terminal where `start.sh` is running. This will stop both servers.

---

## Manual Start (Alternative)

If you prefer to run servers separately:

**Terminal 1 - Backend:**
```bash
cd backend
source venv/bin/activate
python3 app.py
```

**Terminal 2 - Frontend:**
```bash
node https-server.js
```

---

## Troubleshooting

### "Permission denied" when running scripts
```bash
chmod +x setup.sh start.sh
```

### SSL Certificate Issues
Delete existing certificates and regenerate:
```bash
rm key.pem cert.pem
./setup.sh
```

### Python Module Not Found
Ensure virtual environment is activated:
```bash
cd backend
source venv/bin/activate
pip install -r requirements.txt
```

### Camera Not Working
- Ensure you're using **HTTPS** (https://localhost:3000)
- Grant camera permissions in your browser
- Check that no other application is using your camera

### Port Already in Use
If port 3000 or 8001 is in use, edit:
- `https-server.js` - change `const PORT = 3000;`
- `backend/app.py` - change the port number
- `script.js` - update the backend URL

---

## Project Structure

```
PTPal_Demo/
├── setup.sh              # One-time setup script
├── start.sh              # Start both servers
├── https-server.js       # Frontend HTTPS server
├── index.html            # Main application
├── script.js             # Pose detection logic
├── styles.css            # Styling
├── key.pem              # SSL key (generated by setup)
├── cert.pem             # SSL certificate (generated by setup)
└── backend/
    ├── app.py           # Flask backend API
    ├── requirements.txt # Python dependencies
    ├── venv/           # Python virtual environment
    └── ptpal_data.db   # SQLite database
```

---


